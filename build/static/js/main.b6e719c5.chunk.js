(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(126)},109:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a.n(n),r=a(85),o=a.n(r),s=(a(109),a(58)),c=a(6),i=a(173),m=a(176),u=a(179),d=a(172),g=a(175),p=a(177);var E=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),E=Object(c.p)();return l.a.createElement(m.a,{maxWidth:"sm"},l.a.createElement(u.a,{variant:"h4",align:"center",gutterBottom:!0},"Login"),l.a.createElement(d.a,{label:"Email",fullWidth:!0,margin:"normal",value:e,onChange:e=>t(e.target.value)}),l.a.createElement(d.a,{label:"Password",type:"password",fullWidth:!0,margin:"normal",value:a,onChange:e=>r(e.target.value)}),o&&l.a.createElement(g.a,{severity:"error"},o),l.a.createElement(p.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:async()=>{try{const t=await i.a.post("/api/login",{email:e,password:a});localStorage.setItem("token",t.data.token),E("/dashboard")}catch(o){s("Invalid credentials. Please try again.")}},style:{marginTop:"20px"}},"Login"))};var h=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),E=Object(c.p)();return l.a.createElement(m.a,{maxWidth:"sm"},l.a.createElement(u.a,{variant:"h4",align:"center",gutterBottom:!0},"Register"),l.a.createElement(d.a,{label:"Email",fullWidth:!0,margin:"normal",value:e,onChange:e=>t(e.target.value)}),l.a.createElement(d.a,{label:"Password",type:"password",fullWidth:!0,margin:"normal",value:a,onChange:e=>r(e.target.value)}),o&&l.a.createElement(g.a,{severity:"error"},o),l.a.createElement(p.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:async()=>{try{const n=await i.a.post("/api/register",{email:e,password:a});s(n.data.message),E("/login")}catch(t){s("Registration failed. Please try again.")}},style:{marginTop:"20px"}},"Register"))};var v=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Dashboard"))};var b=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Profile"))};var f=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Goals"))};a(123),a(124),a(125);var w=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[o,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(!!localStorage.getItem("token"));return l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/login",element:l.a.createElement(E,{email:e,password:a,setEmail:t,setPassword:r,handleLogin:async()=>{try{const r=await i.a.post("http://localhost:5003/login",{email:e,password:a});localStorage.setItem("token",r.data.token),d(!0),m("Logged in successfully")}catch(l){var t,n;m((null===(t=l.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Login failed")}},message:o})}),l.a.createElement(c.b,{path:"/register",element:l.a.createElement(h,{email:e,password:a,setEmail:t,setPassword:r,handleRegister:async()=>{try{const r=await i.a.post("http://localhost:5003/register",{email:e,password:a});m(r.data.message)}catch(l){var t,n;m((null===(t=l.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Registration failed")}},message:o})}),l.a.createElement(c.b,{path:"/dashboard",element:u?l.a.createElement(v,{handleLogout:()=>{localStorage.removeItem("token"),d(!1),m("Logged out successfully")}}):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"/profile",element:u?l.a.createElement(b,null):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"/goals",element:u?l.a.createElement(f,null):l.a.createElement(c.a,{to:"/login"})}),l.a.createElement(c.b,{path:"/",element:l.a.createElement(c.a,{to:"/login"})}))))};var y=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,182)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:o}=t;a(e),n(e),l(e),r(e),o(e)})};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root")),y()}},[[103,1,2]]]);
//# sourceMappingURL=main.b6e719c5.chunk.js.map