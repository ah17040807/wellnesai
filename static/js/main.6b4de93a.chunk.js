(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},16:function(e,t,a){e.exports=a(34)},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var l=a(4),n=a.n(l),s=a(13),r=a.n(s),o=(a(12),a(14)),i=a(3);var m=function(e){let{title:t,email:a,password:l,setEmail:s,setPassword:r,handleSubmit:o,message:i}=e;return n.a.createElement("div",null,n.a.createElement("h2",null,t),i&&n.a.createElement("p",null,i),n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),o()}},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:a,onChange:e=>s(e.target.value)}),n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:l,onChange:e=>r(e.target.value)}),n.a.createElement("button",{type:"submit"},t)))};var c=function(e){let{email:t,password:a,setEmail:l,setPassword:s,handleLogin:r,message:o}=e;return n.a.createElement(m,{title:"Login",email:t,password:a,setEmail:l,setPassword:s,handleSubmit:r,message:o})};var u=function(e){let{email:t,password:a,setEmail:l,setPassword:s,handleRegister:r,message:o}=e;return n.a.createElement(m,{title:"Register",email:t,password:a,setEmail:l,setPassword:s,handleSubmit:r,message:o})};var d=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Dashboard"))};var g=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Profile"))};var E=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Goals"))},p=a(36);a(22),a(23),a(24),a(25);var h=function(){const[e,t]=Object(l.useState)(""),[a,s]=Object(l.useState)(""),[r,m]=Object(l.useState)(""),[h,v]=Object(l.useState)(!!localStorage.getItem("token"));return n.a.createElement(o.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/login",element:n.a.createElement(c,{email:e,password:a,setEmail:t,setPassword:s,handleLogin:async()=>{try{const s=await p.a.post("http://localhost:5003/login",{email:e,password:a});localStorage.setItem("token",s.data.token),v(!0),m("Logged in successfully")}catch(n){var t,l;m((null===(t=n.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.message)||"Login failed")}},message:r})}),n.a.createElement(i.b,{path:"/register",element:n.a.createElement(u,{email:e,password:a,setEmail:t,setPassword:s,handleRegister:async()=>{try{const s=await p.a.post("http://localhost:5003/register",{email:e,password:a});m(s.data.message)}catch(n){var t,l;m((null===(t=n.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.message)||"Registration failed")}},message:r})}),n.a.createElement(i.b,{path:"/dashboard",element:h?n.a.createElement(d,{handleLogout:()=>{localStorage.removeItem("token"),v(!1),m("Logged out successfully")}}):n.a.createElement(i.a,{to:"/login"})}),n.a.createElement(i.b,{path:"/profile",element:h?n.a.createElement(g,null):n.a.createElement(i.a,{to:"/login"})}),n.a.createElement(i.b,{path:"/goals",element:h?n.a.createElement(E,null):n.a.createElement(i.a,{to:"/login"})}),n.a.createElement(i.b,{path:"/",element:n.a.createElement(i.a,{to:"/login"})}))))};var v=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:s,getTTFB:r}=t;a(e),l(e),n(e),s(e),r(e)})};r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root")),v()}},[[16,1,2]]]);
//# sourceMappingURL=main.6b4de93a.chunk.js.map