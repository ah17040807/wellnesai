(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(33)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var l=a(4),n=a.n(l),r=a(12),o=a.n(r),s=(a(21),a(13)),m=a(3);var i=function(e){let{email:t,password:a,setEmail:l,setPassword:r,handleLogin:o,message:s}=e;return n.a.createElement("div",null,n.a.createElement("h2",null,"Login"),s&&n.a.createElement("p",null,s),n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),o()}},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:t,onChange:e=>l(e.target.value)}),n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>r(e.target.value)}),n.a.createElement("button",{type:"submit"},"Login")))};var c=function(e){let{email:t,password:a,setEmail:l,setPassword:r,handleRegister:o,message:s}=e;return n.a.createElement("div",null,n.a.createElement("h2",null,"Register"),s&&n.a.createElement("p",null,s),n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),o()}},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:t,onChange:e=>l(e.target.value)}),n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>r(e.target.value)}),n.a.createElement("button",{type:"submit"},"Register")))};var u=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Dashboard"))};var d=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Profile"))};var E=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Goals"))},g=a(35);a(22),a(23),a(24);var p=function(){const[e,t]=Object(l.useState)(""),[a,r]=Object(l.useState)(""),[o,p]=Object(l.useState)(""),[h,v]=Object(l.useState)(!!localStorage.getItem("token"));return n.a.createElement(s.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(m.d,null,n.a.createElement(m.b,{path:"/login",element:n.a.createElement(i,{email:e,password:a,setEmail:t,setPassword:r,handleLogin:async()=>{try{const r=await g.a.post("http://localhost:5003/login",{email:e,password:a});localStorage.setItem("token",r.data.token),v(!0),p("Logged in successfully")}catch(n){var t,l;p((null===(t=n.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.message)||"Login failed")}},message:o})}),n.a.createElement(m.b,{path:"/register",element:n.a.createElement(c,{email:e,password:a,setEmail:t,setPassword:r,handleRegister:async()=>{try{const r=await g.a.post("http://localhost:5003/register",{email:e,password:a});p(r.data.message)}catch(n){var t,l;p((null===(t=n.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.message)||"Registration failed")}},message:o})}),n.a.createElement(m.b,{path:"/dashboard",element:h?n.a.createElement(u,{handleLogout:()=>{localStorage.removeItem("token"),v(!1),p("Logged out successfully")}}):n.a.createElement(m.a,{to:"/login"})}),n.a.createElement(m.b,{path:"/profile",element:h?n.a.createElement(d,null):n.a.createElement(m.a,{to:"/login"})}),n.a.createElement(m.b,{path:"/goals",element:h?n.a.createElement(E,null):n.a.createElement(m.a,{to:"/login"})}),n.a.createElement(m.b,{path:"/",element:n.a.createElement(m.a,{to:"/login"})}))))};var h=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:o}=t;a(e),l(e),n(e),r(e),o(e)})};o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null)),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.8c2910d9.chunk.js.map